{"version":3,"sources":["webpack://axis-component/webpack/universalModuleDefinition","webpack://axis-component/webpack/bootstrap","webpack://axis-component/./src/index.ts","webpack://axis-component/./src/axis.tsx","webpack://axis-component/./src/store/index.ts","webpack://axis-component/./src/store/axis-store.ts","webpack://axis-component/external \"deltav\"","webpack://axis-component/./src/types/index.ts","webpack://axis-component/./src/types/type.ts","webpack://axis-component/./src/util/dateUtil.ts"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__4__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","props","this","store","AxisStore","padding","left","right","top","bottom","providers","width","innerWidth","height","innerHeight","lineWidth","tickWidth","tickLength","labelSize","labelColor","labelPadding","type","labels","startDate","endDate","numberRange","numberGap","shift","offset","updateOffset","zoom","focus","deltaScale","updateScale","Axis","monthNames","options","verticalLayout","labelInstances","tickLineInstances","maxLabelWidth","maxLabelHeight","maxLabelLengh","scale","ticks","InstanceProvider","interval","generateLabelTexts","assign","init","updateChartMetrics","origin","w","axisWidth","h","axisHeight","length","intHeight","y","tick","EdgeInstance","start","end","thickness","startColor","endColor","push","label","LabelInstance","anchor","AnchorType","MiddleRight","color","fontSize","text","onReady","size","layoutLabels","curY","viewRange","add","intWidth","x","labelText","substr","TopMiddle","AxisDataType","LABEL","console","error","DATE","generateDateLabels","generateNumberLabels","sd","Date","ed","dateIntevalLengths","getIntervalLengths","dates","travelDates","labelTexts","firstDays","forEach","date","year","month","day","dl","Math","floor","log2","daysInAYear","delta","pow","level","gap","toString","intH","NUMBER","preY","preIn","curIn","remove","intW","preX","lp","rp","tp","bp","maxRange","mouse","newScale","max","downY","upY","vd","vu","pointY","min","newHeight","newDownY","newUpY","updateMaxRange","leftX","rightX","vl","vr","pointX","newWidth","newLeftX","newRightX","monthDays","isLeapYear","getMonthLevel","getLevel","getLevel29","getLevel28","getLevel30","getLevel31","travelInAMonth","startDay","endDay","travelMonth","travelYear","travelInAYear","startMonth","endMonth","getMonthLength","startYear","getFullYear","endYear","getMonth","getDate","count","has28","has29","has30","has31","days","lengths"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"deltav\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"deltav\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"axis-component\"] = factory(require(\"deltav\"));\n\telse\n\t\troot[\"axis-component\"] = factory(root[\"deltav\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__4__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","export * from \"./axis\";","import { AxisStore, IAxisStoreOptions } from \"./store\";\nimport { AxisDataType, Color, Vec2, Vec3 } from \"./types\";\n\nexport interface IAxisProps extends IAxisStoreOptions {\n\n}\n\nexport class Axis {\n  store: AxisStore;\n\n  constructor(props: IAxisProps) {\n    this.store = new AxisStore({\n      padding: {\n        left: props.padding.left,\n        right: props.padding.right,\n        top: props.padding.top,\n        bottom: props.padding.bottom\n      },\n      providers: props.providers,\n      width: window.innerWidth, // need to change\n      height: window.innerHeight,\n      lineWidth: props.lineWidth,\n      tickWidth: props.tickWidth,\n      tickLength: props.tickLength,\n      labelSize: props.labelSize,\n      labelColor: props.labelColor,\n      labelPadding: props.labelPadding,\n\n      type: props.type,\n      labels: props.labels,\n      startDate: props.startDate,\n      endDate: props.endDate,\n      numberRange: props.numberRange,\n      numberGap: props.numberGap\n    });\n  }\n\n  /**\n   * Shifts the axis by a given amount\n   */\n  shift(offset: Vec3) {\n    this.store.updateOffset(offset);\n  }\n\n  zoom(focus: Vec2, deltaScale: Vec3) {\n    this.store.updateScale(focus, deltaScale);\n  }\n}","export * from \"./axis-store\";","import { InstanceProvider, EdgeInstance, LabelInstance, Color, AnchorType } from \"deltav\";\nimport { AxisDataType, Vec2, Vec3 } from \"src/types\";\nimport { dateLevel, travelDates, getIntervalLengths } from \"src/util/dateUtil\";\n\nconst monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\nexport interface IAxisStoreOptions {\n  padding: {\n    left: number;\n    right: number;\n    top: number;\n    bottom: number;\n  },\n  providers?: {\n    ticks?: InstanceProvider<EdgeInstance>,\n    labels?: InstanceProvider<LabelInstance>\n  };\n  width?: number;\n  height?: number;\n  labelColor?: Color;\n  labelSize?: number;\n  labelHighlightColor?: Color;\n  labelPadding?: number;\n\n  lineWidth?: number;\n  tickWidth?: number;\n  tickLength?: number;\n\n  type: AxisDataType;\n\n  labels?: string[];\n\n  startDate?: Date | string;\n  endDate?: Date | string\n\n  numberRange?: Vec2;\n  numberGap?: number;\n}\n\nexport class AxisStore {\n  // Layout mode\n  verticalLayout: boolean = false;\n\n  // data type\n  type: AxisDataType;\n\n  // Shape Instances Holders\n  labelInstances: LabelInstance[] = [];\n  tickLineInstances: EdgeInstance[] = [];\n\n  // Axis Metrics\n  width: number;\n  height: number;\n  axisWidth: number;\n  axisHeight: number;\n  origin: Vec2;\n  lineWidth: number = 1;\n  tickWidth: number = 1;\n  tickLength: number = 10;\n  padding: {\n    left: number;\n    right: number;\n    top: number;\n    bottom: number;\n  };\n\n\n  // Label Metrics\n  labelSize: number = 12;\n  labelColor: Color = [0.8, 0.8, 0.8, 1.0];\n  labelPadding: number = 10;\n  maxLabelWidth: number = 0;\n  maxLabelHeight: number = 0;\n  maxLabelLengh: number = 15;\n\n  labels: string[];\n\n  dates: dateLevel[];\n\n  // Range\n  maxRange: Vec2;\n  viewRange: Vec2;\n\n  offset: number = 0;\n  scale: number = 1;\n\n  providers = {\n    ticks: new InstanceProvider<EdgeInstance>(),\n    labels: new InstanceProvider<LabelInstance>()\n  }\n\n  constructor(options: IAxisStoreOptions) {\n    this.width = options.width || 100;\n    this.height = options.height || 100;\n    this.padding = options.padding;\n    this.lineWidth = options.lineWidth || this.lineWidth;\n    this.tickWidth = options.tickWidth || this.tickWidth;\n    this.tickLength = options.tickLength || this.tickLength;\n\n    this.labelSize = options.labelSize || this.labelSize;\n    this.labelColor = options.labelColor || this.labelColor;\n    this.labelPadding = options.labelPadding || this.labelPadding;\n    this.type = options.type;\n    this.labels = this.generateLabelTexts(options);\n\n    Object.assign(this.providers, options.providers);\n\n    this.init();\n  }\n\n  init() {\n    this.updateChartMetrics();\n    const origin = this.origin;\n    const w = this.axisWidth;\n    const h = this.axisHeight;\n    const tickLength = this.tickLength;\n    const tickWidth = this.tickWidth;\n    const labelPadding = this.labelPadding;\n    const length = this.labels.length;\n\n    if (length != 0) {\n      if (this.verticalLayout) {\n        const intHeight = h / length;\n\n        for (let i = 0; i < length; i++) {\n          const y = origin[1] - (i + 0.5) * intHeight * this.scale + this.offset;\n          // tickLine\n          const tick = new EdgeInstance({\n            start: [origin[0], y],\n            end: [origin[0] - tickLength, y], /// Needs a tick length\n            thickness: [tickWidth, tickWidth],\n            startColor: [1, 1, 1, 0.5],\n            endColor: [1, 1, 1, 0.5]\n          });\n\n          this.tickLineInstances.push(tick);\n          // label\n          const label = new LabelInstance({\n            anchor: {\n              padding: labelPadding,\n              type: AnchorType.MiddleRight\n            },\n            color: this.labelColor,\n            fontSize: this.labelSize,\n            origin: [origin[0], y],\n            text: this.labels[i],\n\n            onReady: label => {\n              if (label.size[0] > this.maxLabelWidth) {\n                this.maxLabelWidth = label.size[0];\n                this.updateChartMetrics();\n                this.layoutLabels();\n              }\n\n              if (label.size[1] > this.maxLabelHeight) {\n                this.maxLabelHeight = label.size[0];\n                this.layoutLabels();\n              }\n            }\n          });\n\n          this.labelInstances.push(label);\n\n          const curY = this.height - y;\n          if (curY >= this.viewRange[0] && curY <= this.viewRange[1]) {\n            this.providers.ticks.add(tick);\n            this.providers.labels.add(label)\n          }\n\n        }\n      } else {\n        const intWidth = w / length;\n\n        for (let i = 0; i < length; i++) {\n          const x = origin[0] + (i + 0.5) * intWidth * this.scale + this.offset;\n          // tickLine\n          const tick = new EdgeInstance({\n            start: [x, origin[1]],\n            end: [x, origin[1] + tickLength],\n            thickness: [tickWidth, tickWidth],\n            startColor: [1, 1, 1, 0.5],\n            endColor: [1, 1, 1, 0.5]\n          });\n\n          this.tickLineInstances.push(tick);\n\n          const labelText = this.labels[i];\n          const text = labelText.length > this.maxLabelLengh ?\n            labelText.substr(0, this.maxLabelLengh) : labelText;\n\n          // label\n          const label = new LabelInstance({\n            anchor: {\n              padding: labelPadding,\n              type: AnchorType.TopMiddle\n            },\n            color: [this.labelColor[0], this.labelColor[1], this.labelColor[2], 0],\n            fontSize: this.labelSize,\n            origin: [x, origin[1] + 10],\n            text,\n            onReady: label => {\n              if (label.size[1] > this.maxLabelHeight) {\n                this.maxLabelHeight = label.size[1];\n              }\n\n              if (label.size[0] > this.maxLabelWidth) {\n                this.maxLabelWidth = label.size[0];\n                this.layoutLabels();\n              }\n            }\n          });\n\n          this.labelInstances.push(label);\n\n          if (x >= this.viewRange[0] && x <= this.viewRange[1]) {\n            this.providers.ticks.add(tick);\n            this.providers.labels.add(label);\n          }\n        }\n      }\n    }\n  }\n\n  generateLabelTexts(options: IAxisStoreOptions) {\n    const type = options.type;\n\n    if (type === AxisDataType.LABEL) {\n      if (!options.labels) {\n        console.error(\"With type LABEL, labels must be set.\");\n        return null;\n      }\n\n      return options.labels;\n    }\n\n    if (type === AxisDataType.DATE) {\n      if (!options.startDate || !options.endDate) {\n        console.error(\"With type DATE, both startDate and endDate must be be set.\");\n        return null;\n      }\n\n      return this.generateDateLabels(options.startDate, options.endDate);\n    }\n\n\n    if (!options.numberRange) {\n      console.error(\"With type NUMBER, both numberRange must be be set.\");\n      return null;\n    }\n\n    return this.generateNumberLabels(options.numberRange, options.numberGap);\n\n  }\n\n  dateIntevalLengths: number[];\n\n  generateDateLabels(startDate: string | Date, endDate: string | Date) {\n    const sd = typeof startDate === \"string\" ? new Date(startDate) : startDate;\n    const ed = typeof endDate === \"string\" ? new Date(endDate) : endDate;\n    this.dateIntevalLengths = getIntervalLengths(sd, ed);\n    const dates: dateLevel[] = [];\n    travelDates(sd, ed, dates);\n    this.dates = dates;\n    const labelTexts: string[] = [];\n    const firstDays: dateLevel[] = [];\n\n    dates.forEach((date, i) => {\n      if (i === 0 || i === dates.length - 1) {\n        labelTexts.push(`${date.year} ${monthNames[date.month]} ${date.day}`)\n\n      } else {\n        if (date.month === 0 && date.day === 1) {\n          labelTexts.push(`${date.year} ${monthNames[date.month]}`);\n          firstDays.push(date);\n        } else if (date.day === 1) {\n          labelTexts.push(`${monthNames[date.month]} ${date.day}`);\n        } else {\n          labelTexts.push(`${date.day}`);\n        }\n      }\n    })\n\n    let dl = Math.floor(Math.log2(firstDays.length));\n    let daysInAYear = this.dateIntevalLengths[this.dateIntevalLengths.length - 1];\n\n    while (dl > 0) {\n      const delta = Math.pow(2, dl);\n      for (let i = 0; i < firstDays.length; i += delta) {\n        firstDays[i].level++;\n      }\n      daysInAYear *= 2;\n      this.dateIntevalLengths.push(daysInAYear);\n      dl--;\n    }\n\n\n    return labelTexts;\n  }\n\n  generateNumberLabels(numberRange: Vec2, numberGap?: number) {\n    let gap = numberGap || 1;\n    const labels: string[] = [];\n\n    for (let i = numberRange[0]; i <= numberRange[1]; i += gap) {\n      labels.push(i.toString());\n    }\n\n    return labels;\n  }\n\n  interval: number = 1;\n\n  layoutLabels() {\n    const length = this.labels.length;\n    const origin = this.origin;\n    const tickLength = this.tickLength;\n    const labelPadding = this.labelPadding;\n\n    if (this.verticalLayout) {\n      const h = this.axisHeight;\n      const intHeight = h / length;\n\n      let intH = intHeight * this.scale;\n      let level = 0;\n      if (this.type === AxisDataType.LABEL || this.type === AxisDataType.NUMBER) {\n        this.interval = 1;\n\n        while (intH <= this.maxLabelHeight) {\n          intH *= 2;\n          this.interval *= 2;\n        }\n      } else if (this.type === AxisDataType.DATE) {\n        this.interval = this.dateIntevalLengths[level];\n\n        while (this.interval * intH <= this.maxLabelHeight) {\n          level++;\n          this.interval = this.dateIntevalLengths[level];\n        }\n      }\n\n\n      // To be tested\n      for (let i = 0; i < length; i++) {\n        const y = origin[1] - (i + 0.5) * intHeight * this.scale - this.offset;\n        // Label\n        const label = this.labelInstances[i];\n        const preY = this.height - label.origin[1];\n        const curY = this.height - y;\n\n        const preIn = preY >= this.viewRange[0] && preY <= this.viewRange[1];\n        const curIn = curY >= this.viewRange[0] && curY <= this.viewRange[1];\n\n        label.origin = [origin[0], y];\n        label.anchor = {\n          padding: this.labelPadding,\n          type: AnchorType.MiddleRight\n        };\n        // Tick\n        const tick = this.tickLineInstances[i];\n        tick.start = [origin[0] - tickLength, y];\n        tick.end = [origin[0], y];\n\n        if ((this.type === AxisDataType.LABEL && i % this.interval === 0) ||\n          (this.type === AxisDataType.NUMBER && i % this.interval === 0) ||\n          (this.type === AxisDataType.DATE && this.dates[i].level >= level)) {\n          label.color = [\n            label.color[0],\n            label.color[1],\n            label.color[2],\n            1\n          ];\n\n          tick.startColor = [\n            tick.startColor[0],\n            tick.startColor[1],\n            tick.startColor[2],\n            1\n          ];\n\n          tick.endColor = [\n            tick.endColor[0],\n            tick.endColor[1],\n            tick.endColor[2],\n            1\n          ];\n        } else {\n          label.color = [\n            label.color[0],\n            label.color[1],\n            label.color[2],\n            0\n          ];\n\n          tick.startColor = [\n            tick.startColor[0],\n            tick.startColor[1],\n            tick.startColor[2],\n            0.5\n          ];\n\n          tick.endColor = [\n            tick.endColor[0],\n            tick.endColor[1],\n            tick.endColor[2],\n            0.5\n          ];\n        }\n\n        if (preIn && !curIn) {\n          this.providers.labels.remove(label);\n          this.providers.ticks.remove(tick);\n        } else if (!preIn && curIn) {\n          this.providers.labels.add(label);\n          this.providers.ticks.add(tick);\n        }\n      }\n    } else {\n      const w = this.axisWidth;\n      const intWidth = w / length;\n\n      let intW = intWidth * this.scale;\n      let level = 0;\n\n      if (this.type === AxisDataType.LABEL || this.type === AxisDataType.NUMBER) {\n        this.interval = 1;\n        while (intW <= this.maxLabelWidth) {\n          intW *= 2;\n          this.interval *= 2;\n        }\n      } else if (this.type === AxisDataType.DATE) {\n        this.interval = this.dateIntevalLengths[level];\n\n        while (this.interval * intW <= this.maxLabelWidth) {\n          level++;\n          this.interval = this.dateIntevalLengths[level];\n        }\n\n      }\n\n      for (let i = 0; i < length; i++) {\n        const x = origin[0] + (i + 0.5) * intWidth * this.scale + this.offset;\n        // Label\n        const label = this.labelInstances[i];\n        const preX = label.origin[0];\n\n        const preIn = preX >= this.viewRange[0] && preX <= this.viewRange[1];\n        const curIn = x >= this.viewRange[0] && x <= this.viewRange[1];\n\n        label.origin = [x, origin[1]];\n        label.anchor = {\n          padding: this.labelPadding,\n          type: AnchorType.TopMiddle\n        };\n\n        // Tick\n        const tick = this.tickLineInstances[i];\n        tick.start = [x, origin[1]];\n        tick.end = [x, origin[1] + tickLength];\n\n        if ((this.type === AxisDataType.LABEL && i % this.interval === 0) ||\n          (this.type === AxisDataType.NUMBER && i % this.interval === 0) ||\n          (this.type === AxisDataType.DATE && this.dates[i].level >= level)) {\n          label.color = [\n            label.color[0],\n            label.color[1],\n            label.color[2],\n            1\n          ];\n\n          tick.startColor = [\n            tick.startColor[0],\n            tick.startColor[1],\n            tick.startColor[2],\n            1\n          ];\n\n          tick.endColor = [\n            tick.endColor[0],\n            tick.endColor[1],\n            tick.endColor[2],\n            1\n          ];\n        } else {\n          label.color = [\n            label.color[0],\n            label.color[1],\n            label.color[2],\n            0\n          ];\n\n          tick.startColor = [\n            tick.startColor[0],\n            tick.startColor[1],\n            tick.startColor[2],\n            0.5\n          ];\n\n          tick.endColor = [\n            tick.endColor[0],\n            tick.endColor[1],\n            tick.endColor[2],\n            0.5\n          ];\n        }\n\n        if (preIn && !curIn) {\n          this.providers.labels.remove(label);\n          this.providers.ticks.remove(tick);\n        } else if (!preIn && curIn) {\n          this.providers.labels.add(label);\n          this.providers.ticks.add(tick);\n        }\n\n      }\n    }\n  }\n\n  updateChartMetrics() {\n    const {\n      padding,\n      width,\n      height\n    } = this;\n\n    const lp = padding.left * width;\n    const rp = padding.right * width;\n    const tp = padding.top * height;\n    const bp = padding.bottom * height;\n    this.axisHeight = height - tp - bp;\n\n    if (this.verticalLayout) {\n      this.axisWidth = width - lp - rp - this.maxLabelWidth;\n      this.origin = [lp + this.maxLabelWidth, height - bp];\n      this.viewRange = [bp, bp + this.axisHeight];\n      this.maxRange = [bp, bp + this.axisHeight];\n    } else {\n      this.axisWidth = width - lp - rp;\n      this.origin = [lp, height - bp];\n      this.viewRange = [lp, lp + this.axisWidth];\n      this.maxRange = [lp, lp + this.axisWidth];\n    }\n  }\n\n\n  // Only update viewRange , then update offset and scale\n  updateScale(mouse: Vec2, scale: Vec3) {\n    const newScale = this.scale + (this.verticalLayout ? scale[1] : scale[0]);\n    this.scale = Math.max(newScale, 1);\n\n    if (this.verticalLayout) {\n      const downY = this.maxRange[0];\n      const upY = this.maxRange[1];\n      const vd = this.viewRange[0];\n      const vu = this.viewRange[1];\n      const pointY = Math.min(Math.max(vd, this.height - mouse[1]), vu);\n      const newHeight = this.axisHeight * this.scale;\n      const upHeight = (pointY - downY) * newHeight / (upY - downY);\n      const newDownY = pointY - upHeight;\n      const newUpY = newDownY + newHeight;\n      this.updateMaxRange(newDownY, newUpY, newHeight);\n    } else {\n      const leftX = this.maxRange[0];\n      const rightX = this.maxRange[1];\n      const vl = this.viewRange[0];\n      const vr = this.viewRange[1];\n      const pointX = Math.min(Math.max(vl, mouse[0]), vr);\n      const newWidth = this.axisWidth * this.scale;\n      const leftWidth = (pointX - leftX) * newWidth / (rightX - leftX);\n      let newLeftX = pointX - leftWidth;\n      let newRightX = newLeftX + newWidth;\n      this.updateMaxRange(newLeftX, newRightX, newWidth);\n    }\n  }\n\n  updateOffset(offset: Vec3) {\n    if (this.verticalLayout) {\n      const downY = this.maxRange[0] - offset[1];\n      const upY = this.maxRange[1] - offset[1];\n      const height = this.maxRange[1] - this.maxRange[0];\n      this.updateMaxRange(downY, upY, height);\n    } else {\n      const leftX = this.maxRange[0] + offset[0];\n      const rightX = this.maxRange[1] + offset[0];\n      const width = this.maxRange[1] - this.maxRange[0];\n      this.updateMaxRange(leftX, rightX, width);\n    }\n  }\n\n  updateMaxRange(left: number, right: number, width: number) {\n    if (left >= this.viewRange[0] && right <= this.viewRange[1]) {\n      left = this.viewRange[0];\n      right = this.viewRange[1];\n    } else if (left >= this.viewRange[0]) {\n      left = this.viewRange[0];\n      right = left + width;\n    } else if (right <= this.viewRange[1]) {\n      right = this.viewRange[1];\n      left = right - width;\n    }\n\n    this.maxRange = [left, right];\n    this.offset = this.maxRange[0] - this.viewRange[0];\n\n    this.layoutLabels();\n  }\n}","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","export * from \"./type\";","export enum AxisDataType {\n  DATE,\n  NUMBER,\n  LABEL\n}\n\nexport type Vec2 = [number, number];\nexport type Vec3 = [number, number, number];\nexport type Color = [number, number, number, number];\n","const monthDays = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nconst monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\n\n// month with 28 days\nconst intLengths28 = [1, 3, 7, 14, 28];\n\n// month with 29 days\nconst intLengths29 = [1, 3, 7, 14, 29];\n\n// month with 30 days\nconst intLengths30 = [1, 3, 7, 15, 30];\n\n// month with 31 days\nconst intLengths31 = [1, 3, 7, 15, 31];\n\n// days: 1, 3, 7, 14/15, 28/29/30/31, 90/91, 191/192, 365/366, x2, x4, x8,....\nconst monthsLength = [1, 3, 6, 12];\n\nconst intLengthsRegYear = [28, 90, 191, 365];\nconst intLengthsLeapYear = [29, 91, 192, 366];\n\nfunction isLeapYear(year: number) {\n  const div4: boolean = year % 4 === 0;\n  const div100: boolean = year % 100 === 0;\n  const div400: boolean = year % 400 === 0;\n\n  return (!div100 && div4) || div400;\n}\n\nexport type dateLevel = {\n  year: number;\n  month: number;\n  day: number;\n  level: number;\n}\n\n\nfunction getLevel28(day: number) {\n  if (day === 1) return 4;\n  if (day === 15) return 3;\n  if (day === 8 || day === 22) return 2;\n  if (day === 4 || day === 11 || day === 18 || day === 25) return 1;\n  return 0;\n}\n\nfunction getLevel29(day: number) {\n  if (day === 1) return 4;\n  if (day === 15) return 3;\n  if (day === 8 || day === 22) return 2;\n  if (day === 4 || day === 11 || day === 18 || day === 26) return 1;\n  return 0;\n}\n\nfunction getLevel30(month: number, day: number) {\n  if (day === 1) return getMonthLevel(month);\n  if (day === 16) return 3;\n  if (day === 8 || day === 23) return 2;\n  if (day === 4 || day === 12 || day === 19 || day === 27) return 1;\n  return 0;\n}\n\nfunction getLevel31(month: number, day: number) {\n  if (day === 1) return getMonthLevel(month);\n  if (day === 16) return 3;\n  if (day === 8 || day === 24) return 2;\n  if (day === 4 || day === 12 || day === 20 || day === 28) return 1;\n  return 0;\n}\n\nfunction getMonthLevel(month: number) {\n  if (month === 0) return 7;\n  if (month === 6) return 6;\n  if (month === 3 || month === 9) return 5;\n  return 4;\n}\n\nfunction getLevel(year: number, month: number, day: number) {\n  if (month === 1) {\n    if (isLeapYear(year)) return getLevel29(day);\n    else return getLevel28(day);\n  }\n\n  const days = monthDays[month];\n\n  if (days === 30) return getLevel30(month, day);\n\n  return getLevel31(month, day);\n}\n\nfunction travelInAMonth(\n  year: number,\n  month: number,\n  startDay: number,\n  endDay: number,\n  labels: dateLevel[]\n) {\n  for (let day = startDay; day <= endDay; day++) {\n    let level = getLevel(year, month, day);\n    // const label = `Year ${year} Month ${monthNames[month]} Day ${day} Level ${level}`;\n    labels.push({\n      year,\n      month,\n      day,\n      level\n    });\n  }\n}\n\nfunction travelMonth(year: number, month: number,\n  labels: dateLevel[]) {\n  const days = monthDays[month];\n  travelInAMonth(year, month, 1, days, labels);\n}\n\nfunction travelYear(year: number, labels: dateLevel[]) {\n  for (let month = 0; month < 12; month++) {\n    travelMonth(year, month, labels);\n  }\n}\n\nfunction travelInAYear(\n  year: number,\n  startMonth: number,\n  startDay: number,\n  endMonth: number,\n  endDay: number,\n  labels: dateLevel[]\n) {\n  const startDays = monthDays[startMonth];\n  travelInAMonth(year, startMonth, startDay, startDays, labels);\n\n  for (let m = startMonth + 1; m < endMonth; m++) {\n    travelMonth(year, m, labels);\n  }\n\n  travelInAMonth(year, endMonth, 1, endDay, labels);\n}\n\nexport function travelDates(start: Date, end: Date, labels: dateLevel[]) {\n  const startYear = start.getFullYear();\n  const endYear = end.getFullYear();\n  const startMonth = start.getMonth();\n  const endMonth = end.getMonth();\n  const startDay = start.getDate();\n  const endDay = end.getDate();\n\n  if (startYear < endYear) {\n    travelInAYear(startYear, startMonth, startDay, 11, 31, labels);\n\n    for (let y = startYear; y < endYear; y++) {\n      travelYear(y, labels);\n    }\n\n    travelInAYear(endYear, 0, 1, endMonth, endDay, labels);\n  } else if (startYear === endYear) {\n    travelInAYear(startYear, startMonth, startDay, endMonth, endDay, labels);\n  }\n}\n\n// get length\nfunction getYearLength(year: number) {\n  return isLeapYear(year) ? 366 : 365;\n}\n\nfunction getMonthLength(year: number, month: number) {\n  if (month === 1) {\n    return isLeapYear(year) ? 29 : 28;\n  }\n\n  return monthDays[month];\n}\n\n// Get Length including start and end days\nexport function getLength(start: Date, end: Date) {\n  const startYear = start.getFullYear();\n  const endYear = end.getFullYear();\n  const startMonth = start.getMonth();\n  const endMonth = end.getMonth();\n  const startDay = start.getDate();\n  const endDay = end.getDate();\n\n  let count = 0;\n\n  if (startYear < endYear) {\n    count += getMonthLength(startYear, startMonth) - startDay + 1;\n\n    for (let m = startMonth + 1; m < 12; m++) {\n      count += getMonthLength(startYear, m);\n    }\n\n    for (let y = startYear + 1; y < endYear; y++) {\n      count += getYearLength(y);\n    }\n\n    for (let m = 0; m < endMonth; m++) {\n      count += getMonthLength(endYear, m);\n    }\n\n    count += endDay;\n  } else if (startYear === endYear) {\n    if (startMonth < endMonth) {\n      count += getMonthLength(startYear, startMonth) - startDay + 1;\n      for (let m = startMonth + 1; m < endMonth; m++) {\n        count += getMonthLength(startYear, m);\n      }\n      count += endDay;\n    } else if (startMonth === endMonth) {\n      count += endDay - startDay + 1;\n    }\n  }\n\n\n\n  return count;\n}\n\n// get interval lengths\n\nexport function getIntervalLengths(start: Date, end: Date) {\n  const startYear = start.getFullYear();\n  const endYear = end.getFullYear();\n  const startMonth = start.getMonth();\n  const endMonth = end.getMonth();\n\n  let has28 = false;\n  let has29 = false;\n  let has30 = false;\n  let has31 = false;\n\n  if (startYear < endYear - 1) {\n    for (let y = startYear; y <= endYear; y++) {\n      if (isLeapYear(y)) has29 = true;\n      else has28 = true;\n    }\n\n    has30 = true;\n    has31 = true;\n  } else if (startYear < endYear) {\n    for (let m = startMonth; m < 12; m++) {\n      if (m === 1) {\n        if (isLeapYear(startYear)) has29 = true;\n        else has28 = true;\n      } else {\n        const days = monthDays[m];\n        if (days === 30) has30 = true;\n        if (days === 31) has31 = true;\n      }\n    }\n\n    for (let m = 0; m <= endMonth; m++) {\n      if (m === 1) {\n        if (isLeapYear(endYear)) has29 = true;\n        else has28 = true;\n      } else {\n        const days = monthDays[m];\n        if (days === 30) has30 = true;\n        if (days === 31) has31 = true;\n      }\n    }\n  } else if (startYear == endYear) {\n    for (let m = startMonth; m <= endMonth; m++) {\n      if (m === 1) {\n        if (isLeapYear(startYear)) has29 = true;\n      } else {\n        const days = monthDays[m];\n        if (days === 30) has30 = true;\n        if (days === 31) has31 = true;\n      }\n    }\n\n    has28 = !has29;\n  }\n\n  const lengths: number[] = [1, 3, 7];\n\n  if ((has28 || has29) && !has30 && !has31) {\n    lengths.push(14)\n  } else {\n    lengths.push(15);\n  }\n\n  if (has28) {\n    lengths.push(28);\n  } else if (has29) {\n    lengths.push(29);\n  } else if (has30) {\n    lengths.push(30);\n  } else {\n    lengths.push(31);\n  }\n\n  if (has29 && !has28) {\n    lengths.push(91);\n    lengths.push(192);\n    lengths.push(366);\n  } else {\n    lengths.push(90);\n    lengths.push(191);\n    lengths.push(365);\n  }\n\n  return lengths;\n}"],"sourceRoot":""}