{"version":3,"sources":["webpack://axis-component/webpack/universalModuleDefinition","webpack://axis-component/webpack/bootstrap","webpack://axis-component/./src/index.ts","webpack://axis-component/./src/axis.tsx","webpack://axis-component/./src/store/index.ts","webpack://axis-component/./src/store/axis-store.ts","webpack://axis-component/external \"deltav\"","webpack://axis-component/./src/types/index.ts","webpack://axis-component/./src/types/type.ts","webpack://axis-component/./src/util/dateUtil.ts"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__4__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","props","this","store","AxisStore","view","providers","tickWidth","tickLength","labelSize","labelColor","labelPadding","type","labels","startDate","endDate","numberRange","numberGap","shift","offset","updateOffset","zoom","focus","deltaScale","updateScale","Axis","monthNames","options","verticalLayout","axisChanged","labelInstances","tickLineInstances","maxLabelWidth","maxLabelHeight","maxLabelLengh","scale","interval","ticks","InstanceProvider","generateLabelTexts","assign","init","updateChartMetrics","origin","w","size","h","length","intHeight","y","tick","EdgeInstance","start","end","thickness","startColor","endColor","push","label","LabelInstance","anchor","padding","AnchorType","MiddleRight","color","fontSize","text","onReady","layoutLabels","curY","innerHeight","viewRange","add","intWidth","x","labelText","substr","TopMiddle","AxisDataType","LABEL","console","error","DATE","generateDateLabels","generateNumberLabels","sd","Date","ed","dateIntervalLengths","getIntervalLengths","dates","travelDates","labelTexts","firstDays","forEach","date","year","month","day","dl","Math","floor","log2","daysInAYear","delta","pow","level","gap","toString","changeAxis","intH","NUMBER","preY","preIn","curIn","remove","intW","preX","width","height","maxRange","mouse","newScale","max","downY","upY","vd","vu","pointY","min","newHeight","newDownY","newUpY","updateMaxRange","leftX","rightX","vl","vr","pointX","newWidth","newLeftX","newRightX","left","right","monthDays","isLeapYear","getMonthLevel","getLevel","getLevel29","getLevel28","getLevel30","getLevel31","travelInAMonth","startDay","endDay","travelMonth","travelYear","travelInAYear","startMonth","endMonth","getMonthLength","startYear","getFullYear","endYear","getMonth","getDate","count","has28","has29","has30","has31","days","lengths"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,EAAQG,QAAQ,WACR,mBAAXC,QAAyBA,OAAOC,IAC9CD,OAAO,CAAC,UAAWJ,GACO,iBAAZC,QACdA,QAAQ,kBAAoBD,EAAQG,QAAQ,WAE5CJ,EAAK,kBAAoBC,EAAQD,EAAa,QARhD,CASGO,QAAQ,SAASC,GACpB,O,YCTE,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUT,QAGnC,IAAIC,EAASM,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHX,QAAS,IAUV,OANAY,EAAQH,GAAUI,KAAKZ,EAAOD,QAASC,EAAQA,EAAOD,QAASQ,GAG/DP,EAAOU,GAAI,EAGJV,EAAOD,QA0Df,OArDAQ,EAAoBM,EAAIF,EAGxBJ,EAAoBO,EAAIR,EAGxBC,EAAoBQ,EAAI,SAAShB,EAASiB,EAAMC,GAC3CV,EAAoBW,EAAEnB,EAASiB,IAClCG,OAAOC,eAAerB,EAASiB,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEV,EAAoBgB,EAAI,SAASxB,GACX,oBAAXyB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAerB,EAASyB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBQ,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAASlC,GAChC,IAAIiB,EAASjB,GAAUA,EAAO6B,WAC7B,WAAwB,OAAO7B,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAO,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG7B,EAAoBgC,EAAI,GAIjBhC,EAAoBA,EAAoBiC,EAAI,G,4IClFrD,Q,8ECAA,WAKA,aAGE,WAAYC,GACVC,KAAKC,MAAQ,IAAI,EAAAC,UAAU,CACzBC,KAAMJ,EAAMI,KACZC,UAAWL,EAAMK,UACjBC,UAAWN,EAAMM,UACjBC,WAAYP,EAAMO,WAClBC,UAAWR,EAAMQ,UACjBC,WAAYT,EAAMS,WAClBC,aAAcV,EAAMU,aACpBC,KAAMX,EAAMW,KACZC,OAAQZ,EAAMY,OACdC,UAAWb,EAAMa,UACjBC,QAASd,EAAMc,QACfC,YAAaf,EAAMe,YACnBC,UAAWhB,EAAMgB,YAcvB,OAPE,YAAAC,MAAA,SAAMC,GACJjB,KAAKC,MAAMiB,aAAaD,IAG1B,YAAAE,KAAA,SAAKC,EAAaC,GAChBrB,KAAKC,MAAMqB,YAAYF,EAAOC,IAElC,EA/BA,GAAa,EAAAE,Q,0ICLb,Q,8ECAA,WACA,OACA,OAEMC,EAAa,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAyBjG,aAkDE,WAAYC,GAhDZ,KAAAC,gBAA0B,EAC1B,KAAAC,aAAuB,EAMvB,KAAAC,eAAkC,GAClC,KAAAC,kBAAoC,GAQpC,KAAAxB,UAAoB,EACpB,KAAAC,WAAqB,GAGrB,KAAAC,UAAoB,GACpB,KAAAC,WAAoB,CAAC,GAAK,GAAK,GAAK,GACpC,KAAAC,aAAuB,GACvB,KAAAqB,cAAwB,EACxB,KAAAC,eAAyB,EACzB,KAAAC,cAAwB,GAUxB,KAAAf,OAAiB,EACjB,KAAAgB,MAAgB,EAGhB,KAAAC,SAAmB,EAInB,KAAA9B,UAAY,CACV+B,MAAO,IAAI,EAAAC,iBACXzB,OAAQ,IAAI,EAAAyB,kBAIZpC,KAAKG,KAAOsB,EAAQtB,KACpBH,KAAKK,UAAYoB,EAAQpB,WAAaL,KAAKK,UAC3CL,KAAKM,WAAamB,EAAQnB,YAAcN,KAAKM,WAC7CN,KAAKO,UAAYkB,EAAQlB,WAAaP,KAAKO,UAC3CP,KAAKQ,WAAaiB,EAAQjB,YAAcR,KAAKQ,WAC7CR,KAAKS,aAAegB,EAAQhB,cAAgBT,KAAKS,aACjDT,KAAKU,KAAOe,EAAQf,KACpBV,KAAKW,OAASX,KAAKqC,mBAAmBZ,GAEtChD,OAAO6D,OAAOtC,KAAKI,UAAWqB,EAAQrB,WAEtCJ,KAAKuC,OAofT,OAjfE,YAAAA,KAAA,sBACEvC,KAAKwC,qBACL,IAAMC,EAASzC,KAAKG,KAAKsC,OACnBC,EAAI1C,KAAKG,KAAKwC,KAAK,GACnBC,EAAI5C,KAAKG,KAAKwC,KAAK,GACnBrC,EAAaN,KAAKM,WAClBD,EAAYL,KAAKK,UACjBI,EAAeT,KAAKS,aACpBoC,EAAS7C,KAAKW,OAAOkC,OAE3B,GAAc,GAAVA,EACF,GAAI7C,KAAK0B,eAGP,IAFA,IAAMoB,EAAYF,EAAIC,EAEb9E,EAAI,EAAGA,EAAI8E,EAAQ9E,IAAK,CAC/B,IAAMgF,EAAIN,EAAO,IAAM1E,EAAI,IAAO+E,EAAY9C,KAAKiC,MAAQjC,KAAKiB,OAE1D+B,EAAO,IAAI,EAAAC,aAAa,CAC5BC,MAAO,CAACT,EAAO,GAAIM,GACnBI,IAAK,CAACV,EAAO,GAAKnC,EAAYyC,GAC9BK,UAAW,CAAC/C,EAAWA,GACvBgD,WAAY,CAAC,EAAG,EAAG,EAAG,IACtBC,SAAU,CAAC,EAAG,EAAG,EAAG,MAGtBtD,KAAK6B,kBAAkB0B,KAAKP,GAE5B,IAAMQ,EAAQ,IAAI,EAAAC,cAAc,CAC9BC,OAAQ,CACNC,QAASlD,EACTC,KAAM,EAAAkD,WAAWC,aAEnBC,MAAO,CAAC9D,KAAKQ,WAAW,GAAIR,KAAKQ,WAAW,GAAIR,KAAKQ,WAAW,GAAI,GACpEuD,SAAU/D,KAAKO,UACfkC,OAAQ,CAACA,EAAO,GAAIM,GACpBiB,KAAMhE,KAAKW,OAAO5C,GAElBkG,QAAS,SAAAT,GACHA,EAAMb,KAAK,GAAK,EAAKb,gBACvB,EAAKA,cAAgB0B,EAAMb,KAAK,GAChC,EAAKH,qBACL,EAAK0B,gBAGHV,EAAMb,KAAK,GAAK,EAAKZ,iBACvB,EAAKA,eAAiByB,EAAMb,KAAK,GACjC,EAAKuB,mBAKXlE,KAAK4B,eAAe2B,KAAKC,GAEzB,IAAMW,EAAOzG,OAAO0G,YAAcrB,EAE9BoB,GAAQnE,KAAKqE,UAAU,IAAMF,GAAQnE,KAAKqE,UAAU,KACtDrE,KAAKI,UAAU+B,MAAMmC,IAAItB,GACzBhD,KAAKI,UAAUO,OAAO2D,IAAId,QAK9B,KAAMe,EAAW7B,EAAIG,EAErB,IAAS9E,EAAI,EAAGA,EAAI8E,EAAQ9E,IAAK,CAC/B,IAAMyG,EAAI/B,EAAO,IAAM1E,EAAI,IAAOwG,EAAWvE,KAAKiC,MAAQjC,KAAKiB,OAEzD+B,EAAO,IAAI,EAAAC,aAAa,CAC5BC,MAAO,CAACsB,EAAG/B,EAAO,IAClBU,IAAK,CAACqB,EAAG/B,EAAO,GAAKnC,GACrB8C,UAAW,CAAC/C,EAAWA,GACvBgD,WAAY,CAAC,EAAG,EAAG,EAAG,IACtBC,SAAU,CAAC,EAAG,EAAG,EAAG,MAGtBtD,KAAK6B,kBAAkB0B,KAAKP,GAE5B,IAAMyB,EAAYzE,KAAKW,OAAO5C,GACxBiG,EAAOS,EAAU5B,OAAS7C,KAAKgC,cACnCyC,EAAUC,OAAO,EAAG1E,KAAKgC,eAAiByC,EAGtCjB,EAAQ,IAAI,EAAAC,cAAc,CAC9BC,OAAQ,CACNC,QAASlD,EACTC,KAAM,EAAAkD,WAAWe,WAEnBb,MAAO,CAAC9D,KAAKQ,WAAW,GAAIR,KAAKQ,WAAW,GAAIR,KAAKQ,WAAW,GAAI,GACpEuD,SAAU/D,KAAKO,UACfkC,OAAQ,CAAC+B,EAAG/B,EAAO,GAAK,IACxBuB,KAAI,EACJC,QAAS,SAAAT,GACHA,EAAMb,KAAK,GAAK,EAAKZ,iBACvB,EAAKA,eAAiByB,EAAMb,KAAK,IAG/Ba,EAAMb,KAAK,GAAK,EAAKb,gBACvB,EAAKA,cAAgB0B,EAAMb,KAAK,GAChC,EAAKuB,mBAKXlE,KAAK4B,eAAe2B,KAAKC,GAErBgB,GAAKxE,KAAKqE,UAAU,IAAMG,GAAKxE,KAAKqE,UAAU,KAChDrE,KAAKI,UAAU+B,MAAMmC,IAAItB,GACzBhD,KAAKI,UAAUO,OAAO2D,IAAId,OAOpC,YAAAnB,mBAAA,SAAmBZ,GACjB,IAAMf,EAAOe,EAAQf,KAErB,OAAIA,IAAS,EAAAkE,aAAaC,MACnBpD,EAAQd,OAKNc,EAAQd,QAJbmE,QAAQC,MAAM,wCACP,MAMPrE,IAAS,EAAAkE,aAAaI,KACnBvD,EAAQb,WAAca,EAAQZ,QAK5Bb,KAAKiF,mBAAmBxD,EAAQb,UAAWa,EAAQZ,UAJxDiE,QAAQC,MAAM,8DACP,MAONtD,EAAQX,YAKNd,KAAKkF,qBAAqBzD,EAAQX,YAAaW,EAAQV,YAJ5D+D,QAAQC,MAAM,iDACP,OAOX,YAAAE,mBAAA,SAAmBrE,EAA0BC,GAC3C,IAAMsE,EAA0B,iBAAdvE,EAAyB,IAAIwE,KAAKxE,GAAaA,EAC3DyE,EAAwB,iBAAZxE,EAAuB,IAAIuE,KAAKvE,GAAWA,EAC7Db,KAAKsF,oBAAsB,EAAAC,mBAAmBJ,EAAIE,GAClD,IAAMG,EAAqB,GAC3B,EAAAC,YAAYN,EAAIE,EAAIG,GACpBxF,KAAKwF,MAAQA,EACb,IAAME,EAAuB,GACvBC,EAAyB,GAE/BH,EAAMI,SAAQ,SAACC,EAAM9H,GACT,IAANA,GAAWA,IAAMyH,EAAM3C,OAAS,EAClC6C,EAAWnC,KAAQsC,EAAKC,KAAI,IAAItE,EAAWqE,EAAKE,OAAM,IAAIF,EAAKG,KAG5C,IAAfH,EAAKE,OAA4B,IAAbF,EAAKG,KAC3BN,EAAWnC,KAAQsC,EAAKC,KAAI,IAAItE,EAAWqE,EAAKE,QAChDJ,EAAUpC,KAAKsC,IACO,IAAbA,EAAKG,IACdN,EAAWnC,KAAQ/B,EAAWqE,EAAKE,OAAM,IAAIF,EAAKG,KAElDN,EAAWnC,KAAK,GAAGsC,EAAKG,QAQ9B,IAHA,IAAIC,EAAKC,KAAKC,MAAMD,KAAKE,KAAKT,EAAU9C,SACpCwD,EAAcrG,KAAKsF,oBAAoBtF,KAAKsF,oBAAoBzC,OAAS,GAEtEoD,EAAK,GAAG,CAEb,IADA,IAAMK,EAAQJ,KAAKK,IAAI,EAAGN,GACjBlI,EAAI,EAAGA,EAAI4H,EAAU9C,OAAQ9E,GAAKuI,EACzCX,EAAU5H,GAAGyI,QAEfH,GAAe,EACfrG,KAAKsF,oBAAoB/B,KAAK8C,GAC9BJ,IAGF,OAAOP,GAGT,YAAAR,qBAAA,SAAqBpE,EAAmBC,GAItC,IAHA,IAAI0F,EAAM1F,GAAa,EACjBJ,EAAmB,GAEhB5C,EAAI+C,EAAY,GAAI/C,GAAK+C,EAAY,GAAI/C,GAAK0I,EACrD9F,EAAO4C,KAAKxF,EAAE2I,YAGhB,OAAO/F,GAGT,YAAAgG,WAAA,WACE3G,KAAK0B,gBAAkB1B,KAAK0B,eAC5B1B,KAAK2B,aAAc,EACnB3B,KAAKwC,qBACLxC,KAAKkE,eACLlE,KAAK2B,aAAc,GAGrB,YAAAuC,aAAA,WACE,IAAMrB,EAAS7C,KAAKW,OAAOkC,OACrBJ,EAASzC,KAAKG,KAAKsC,OACnBnC,EAAaN,KAAKM,WAClBG,EAAeT,KAAKS,aAE1B,GAAIT,KAAK0B,eAAgB,CACvB,IACMoB,EADI9C,KAAKG,KAAKwC,KAAK,GACHE,EAElB+D,EAAO9D,EAAY9C,KAAKiC,MACxBuE,EAAQ,EACZ,GAAIxG,KAAKU,OAAS,EAAAkE,aAAaC,OAAS7E,KAAKU,OAAS,EAAAkE,aAAaiC,OAGjE,IAFA7G,KAAKkC,SAAW,EAET0E,GAAQ5G,KAAK+B,gBAClB6E,GAAQ,EACR5G,KAAKkC,UAAY,OAEd,GAAIlC,KAAKU,OAAS,EAAAkE,aAAaI,KAGpC,IAFAhF,KAAKkC,SAAWlC,KAAKsF,oBAAoBkB,GAElCxG,KAAKkC,SAAW0E,GAAQ5G,KAAK+B,gBAClCyE,IACAxG,KAAKkC,SAAWlC,KAAKsF,oBAAoBkB,GAM7C,IAAK,IAAIzI,EAAI,EAAGA,EAAI8E,EAAQ9E,IAAK,CAC/B,IAAMgF,EAAIN,EAAO,IAAM1E,EAAI,IAAO+E,EAAY9C,KAAKiC,MAAQjC,KAAKiB,OAE1DuC,EAAQxD,KAAK4B,eAAe7D,GAC5B+I,EAAOpJ,OAAO0G,YAAcZ,EAAMf,OAAO,GACzC0B,EAAOzG,OAAO0G,YAAcrB,EAE5BgE,EAAQD,GAAQ9G,KAAKqE,UAAU,IAAMyC,GAAQ9G,KAAKqE,UAAU,GAC5D2C,EAAQ7C,GAAQnE,KAAKqE,UAAU,IAAMF,GAAQnE,KAAKqE,UAAU,GAElEb,EAAMf,OAAS,CAACA,EAAO,GAAIM,GAC3BS,EAAME,OAAS,CACbC,QAASlD,EACTC,KAAM,EAAAkD,WAAWC,cAGbb,EAAOhD,KAAK6B,kBAAkB9D,IAC/BmF,MAAQ,CAACT,EAAO,GAAKnC,EAAYyC,GACtCC,EAAKG,IAAM,CAACV,EAAO,GAAIM,GAElB/C,KAAKU,OAAS,EAAAkE,aAAaC,OAAS9G,EAAIiC,KAAKkC,UAAa,GAC5DlC,KAAKU,OAAS,EAAAkE,aAAaiC,QAAU9I,EAAIiC,KAAKkC,UAAa,GAC3DlC,KAAKU,OAAS,EAAAkE,aAAaI,MAAQhF,KAAKwF,MAAMzH,GAAGyI,OAASA,GAC3DhD,EAAMM,MAAQ,CACZN,EAAMM,MAAM,GACZN,EAAMM,MAAM,GACZN,EAAMM,MAAM,GACZ,GAGFd,EAAKK,WAAa,CAChBL,EAAKK,WAAW,GAChBL,EAAKK,WAAW,GAChBL,EAAKK,WAAW,GAChB,GAGFL,EAAKM,SAAW,CACdN,EAAKM,SAAS,GACdN,EAAKM,SAAS,GACdN,EAAKM,SAAS,GACd,KAGFE,EAAMM,MAAQ,CACZN,EAAMM,MAAM,GACZN,EAAMM,MAAM,GACZN,EAAMM,MAAM,GACZ,GAGFd,EAAKK,WAAa,CAChBL,EAAKK,WAAW,GAChBL,EAAKK,WAAW,GAChBL,EAAKK,WAAW,GAChB,IAGFL,EAAKM,SAAW,CACdN,EAAKM,SAAS,GACdN,EAAKM,SAAS,GACdN,EAAKM,SAAS,GACd,MAICyD,IAAS/G,KAAK2B,aAAiBqF,EAGvBD,IAAS/G,KAAK2B,cAAgBqF,IACzChH,KAAKI,UAAUO,OAAO2D,IAAId,GAC1BxD,KAAKI,UAAU+B,MAAMmC,IAAItB,KAJzBhD,KAAKI,UAAUO,OAAOsG,OAAOzD,GAC7BxD,KAAKI,UAAU+B,MAAM8E,OAAOjE,SAM3B,CACL,IACMuB,EADIvE,KAAKG,KAAKwC,KAAK,GACJE,EAEjBqE,EAAO3C,EAAWvE,KAAKiC,MACvBuE,EAAQ,EAEZ,GAAIxG,KAAKU,OAAS,EAAAkE,aAAaC,OAAS7E,KAAKU,OAAS,EAAAkE,aAAaiC,OAEjE,IADA7G,KAAKkC,SAAW,EACTgF,GAAQlH,KAAK8B,eAClBoF,GAAQ,EACRlH,KAAKkC,UAAY,OAEd,GAAIlC,KAAKU,OAAS,EAAAkE,aAAaI,KAGpC,IAFAhF,KAAKkC,SAAWlC,KAAKsF,oBAAoBkB,GAElCxG,KAAKkC,SAAWgF,GAAQlH,KAAK8B,eAClC0E,IACAxG,KAAKkC,SAAWlC,KAAKsF,oBAAoBkB,GAK7C,IAASzI,EAAI,EAAGA,EAAI8E,EAAQ9E,IAAK,CAC/B,IAeMiF,EAfAwB,EAAI/B,EAAO,IAAM1E,EAAI,IAAOwG,EAAWvE,KAAKiC,MAAQjC,KAAKiB,OAGzDkG,GADA3D,EAAQxD,KAAK4B,eAAe7D,IACf0E,OAAO,GAEpBsE,EAAQI,GAAQnH,KAAKqE,UAAU,IAAM8C,GAAQnH,KAAKqE,UAAU,GAC5D2C,EAAQxC,GAAKxE,KAAKqE,UAAU,IAAMG,GAAKxE,KAAKqE,UAAU,GAE5Db,EAAMf,OAAS,CAAC+B,EAAG/B,EAAO,IAC1Be,EAAME,OAAS,CACbC,QAASlD,EACTC,KAAM,EAAAkD,WAAWe,YAIb3B,EAAOhD,KAAK6B,kBAAkB9D,IAC/BmF,MAAQ,CAACsB,EAAG/B,EAAO,IACxBO,EAAKG,IAAM,CAACqB,EAAG/B,EAAO,GAAKnC,GAEtBN,KAAKU,OAAS,EAAAkE,aAAaC,OAAS9G,EAAIiC,KAAKkC,UAAa,GAC5DlC,KAAKU,OAAS,EAAAkE,aAAaiC,QAAU9I,EAAIiC,KAAKkC,UAAa,GAC3DlC,KAAKU,OAAS,EAAAkE,aAAaI,MAAQhF,KAAKwF,MAAMzH,GAAGyI,OAASA,GAC3DhD,EAAMM,MAAQ,CACZN,EAAMM,MAAM,GACZN,EAAMM,MAAM,GACZN,EAAMM,MAAM,GACZ,GAGFd,EAAKK,WAAa,CAChBL,EAAKK,WAAW,GAChBL,EAAKK,WAAW,GAChBL,EAAKK,WAAW,GAChB,GAGFL,EAAKM,SAAW,CACdN,EAAKM,SAAS,GACdN,EAAKM,SAAS,GACdN,EAAKM,SAAS,GACd,KAGFE,EAAMM,MAAQ,CACZN,EAAMM,MAAM,GACZN,EAAMM,MAAM,GACZN,EAAMM,MAAM,GACZ,GAGFd,EAAKK,WAAa,CAChBL,EAAKK,WAAW,GAChBL,EAAKK,WAAW,GAChBL,EAAKK,WAAW,GAChB,IAGFL,EAAKM,SAAW,CACdN,EAAKM,SAAS,GACdN,EAAKM,SAAS,GACdN,EAAKM,SAAS,GACd,MAICyD,IAAS/G,KAAK2B,aAAiBqF,EAGvBD,IAAS/G,KAAK2B,cAAgBqF,IACzChH,KAAKI,UAAUO,OAAO2D,IAAId,GAC1BxD,KAAKI,UAAU+B,MAAMmC,IAAItB,KAJzBhD,KAAKI,UAAUO,OAAOsG,OAAOzD,GAC7BxD,KAAKI,UAAU+B,MAAM8E,OAAOjE,OAUpC,YAAAR,mBAAA,WACE,IAAMC,EAASzC,KAAKG,KAAKsC,OACnB2E,EAAQpH,KAAKG,KAAKwC,KAAK,GACvB0E,EAASrH,KAAKG,KAAKwC,KAAK,GAE1B3C,KAAK0B,gBACP1B,KAAKqE,UAAY,CACf3G,OAAO0G,YAAc3B,EAAO,GAC5B/E,OAAO0G,YAAc3B,EAAO,GAAK4E,GAEnCrH,KAAKsH,SAAW,CACd5J,OAAO0G,YAAc3B,EAAO,GAC5B/E,OAAO0G,YAAc3B,EAAO,GAAK4E,KAGnCrH,KAAKqE,UAAY,CAAC5B,EAAO,GAAIA,EAAO,GAAK2E,GACzCpH,KAAKsH,SAAW,CAAC7E,EAAO,GAAIA,EAAO,GAAK2E,IAG1CpH,KAAKiC,MAAQ,EACbjC,KAAKiB,OAASjB,KAAKsH,SAAS,GAAKtH,KAAKqE,UAAU,IAIlD,YAAA/C,YAAA,SAAYiG,EAAatF,GACvB,IAAMuF,EAAWxH,KAAKiC,OAASjC,KAAK0B,eAAiBO,EAAM,GAAKA,EAAM,IACtEjC,KAAKiC,MAAQiE,KAAKuB,IAAID,EAAU,GAChC,IAAMJ,EAAQpH,KAAKG,KAAKwC,KAAK,GACvB0E,EAASrH,KAAKG,KAAKwC,KAAK,GAE9B,GAAI3C,KAAK0B,eAAgB,CACvB,IAAMgG,EAAQ1H,KAAKsH,SAAS,GACtBK,EAAM3H,KAAKsH,SAAS,GACpBM,EAAK5H,KAAKqE,UAAU,GACpBwD,EAAK7H,KAAKqE,UAAU,GACpByD,EAAS5B,KAAK6B,IAAI7B,KAAKuB,IAAIG,EAAIlK,OAAO0G,YAAcmD,EAAM,IAAKM,GAC/DG,EAAYX,EAASrH,KAAKiC,MAE1BgG,EAAWH,GADCA,EAASJ,GAASM,GAAaL,EAAMD,GAEjDQ,EAASD,EAAWD,EAC1BhI,KAAKmI,eAAeF,EAAUC,EAAQF,OACjC,CACL,IAAMI,EAAQpI,KAAKsH,SAAS,GACtBe,EAASrI,KAAKsH,SAAS,GACvBgB,EAAKtI,KAAKqE,UAAU,GACpBkE,EAAKvI,KAAKqE,UAAU,GACpBmE,EAAStC,KAAK6B,IAAI7B,KAAKuB,IAAIa,EAAIf,EAAM,IAAKgB,GAC1CE,EAAWrB,EAAQpH,KAAKiC,MAE1ByG,EAAWF,GADIA,EAASJ,GAASK,GAAYJ,EAASD,GAEtDO,EAAYD,EAAWD,EAC3BzI,KAAKmI,eAAeO,EAAUC,EAAWF,KAI7C,YAAAvH,aAAA,SAAaD,GACX,GAAIjB,KAAK0B,eAAgB,CACvB,IAAMgG,EAAQ1H,KAAKsH,SAAS,GAAKrG,EAAO,GAClC0G,EAAM3H,KAAKsH,SAAS,GAAKrG,EAAO,GAChCoG,EAASrH,KAAKsH,SAAS,GAAKtH,KAAKsH,SAAS,GAChDtH,KAAKmI,eAAeT,EAAOC,EAAKN,OAC3B,CACL,IAAMe,EAAQpI,KAAKsH,SAAS,GAAKrG,EAAO,GAClCoH,EAASrI,KAAKsH,SAAS,GAAKrG,EAAO,GACnCmG,EAAQpH,KAAKsH,SAAS,GAAKtH,KAAKsH,SAAS,GAC/CtH,KAAKmI,eAAeC,EAAOC,EAAQjB,KAIvC,YAAAe,eAAA,SAAeS,EAAcC,EAAezB,GACtCwB,GAAQ5I,KAAKqE,UAAU,IAAMwE,GAAS7I,KAAKqE,UAAU,IACvDuE,EAAO5I,KAAKqE,UAAU,GACtBwE,EAAQ7I,KAAKqE,UAAU,IACduE,GAAQ5I,KAAKqE,UAAU,GAEhCwE,GADAD,EAAO5I,KAAKqE,UAAU,IACP+C,EACNyB,GAAS7I,KAAKqE,UAAU,KAEjCuE,GADAC,EAAQ7I,KAAKqE,UAAU,IACR+C,GAGjBpH,KAAKsH,SAAW,CAACsB,EAAMC,GACvB7I,KAAKiB,OAASjB,KAAKsH,SAAS,GAAKtH,KAAKqE,UAAU,GAEhDrE,KAAKkE,gBAET,EAljBA,GAAa,EAAAhE,a,cC7Bb5C,EAAOD,QAAUM,G,0ICAjB,Q,8ECAA,SAAYiH,GACV,mBACA,uBACA,qBAHF,CAAY,EAAAA,eAAA,EAAAA,aAAY,M,8ECAxB,IAAMkE,EAAY,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAsB/D,SAASC,EAAWjD,GAKlB,QAHwBA,EAAO,KAAQ,IADjBA,EAAO,GAAM,GAEXA,EAAO,KAAQ,EA6CzC,SAASkD,EAAcjD,GACrB,OAAc,IAAVA,EAAoB,EACV,IAAVA,EAAoB,EACV,IAAVA,GAAyB,IAAVA,EAAoB,EAChC,EAGT,SAASkD,EAASnD,EAAcC,EAAeC,GAC7C,OAAc,IAAVD,EACEgD,EAAWjD,GAjCnB,SAAoBE,GAClB,OAAY,IAARA,EAAkB,EACV,KAARA,EAAmB,EACX,IAARA,GAAqB,KAARA,EAAmB,EACxB,IAARA,GAAqB,KAARA,GAAsB,KAARA,GAAsB,KAARA,EAAmB,EACzD,EA4BwBkD,CAAWlD,GAzC5C,SAAoBA,GAClB,OAAY,IAARA,EAAkB,EACV,KAARA,EAAmB,EACX,IAARA,GAAqB,KAARA,EAAmB,EACxB,IAARA,GAAqB,KAARA,GAAsB,KAARA,GAAsB,KAARA,EAAmB,EACzD,EAqCOmD,CAAWnD,GAKZ,KAFA8C,EAAU/C,GA7BzB,SAAoBA,EAAeC,GACjC,OAAY,IAARA,EAAkBgD,EAAcjD,GACxB,KAARC,EAAmB,EACX,IAARA,GAAqB,KAARA,EAAmB,EACxB,IAARA,GAAqB,KAARA,GAAsB,KAARA,GAAsB,KAARA,EAAmB,EACzD,EA0BiBoD,CAAWrD,EAAOC,GAvB5C,SAAoBD,EAAeC,GACjC,OAAY,IAARA,EAAkBgD,EAAcjD,GACxB,KAARC,EAAmB,EACX,IAARA,GAAqB,KAARA,EAAmB,EACxB,IAARA,GAAqB,KAARA,GAAsB,KAARA,GAAsB,KAARA,EAAmB,EACzD,EAoBAqD,CAAWtD,EAAOC,GAG3B,SAASsD,EACPxD,EACAC,EACAwD,EACAC,EACA7I,GAEA,IAAK,IAAIqF,EAAMuD,EAAUvD,GAAOwD,EAAQxD,IAAO,CAC7C,IAAIQ,EAAQyC,EAASnD,EAAMC,EAAOC,GAClCrF,EAAO4C,KAAK,CACVuC,KAAI,EACJC,MAAK,EACLC,IAAG,EACHQ,MAAK,KAKX,SAASiD,EAAY3D,EAAcC,EACjCpF,GAEA2I,EAAexD,EAAMC,EAAO,EADf+C,EAAU/C,GACcpF,GAGvC,SAAS+I,EAAW5D,EAAcnF,GAChC,IAAK,IAAIoF,EAAQ,EAAGA,EAAQ,GAAIA,IAC9B0D,EAAY3D,EAAMC,EAAOpF,GAI7B,SAASgJ,EACP7D,EACA8D,EACAL,EACAM,EACAL,EACA7I,GAGA2I,EAAexD,EAAM8D,EAAYL,EADfT,EAAUc,GAC0BjJ,GAEtD,IAAK,IAAIxC,EAAIyL,EAAa,EAAGzL,EAAI0L,EAAU1L,IACzCsL,EAAY3D,EAAM3H,EAAGwC,GAGvB2I,EAAexD,EAAM+D,EAAU,EAAGL,EAAQ7I,GA6B5C,SAASmJ,EAAehE,EAAcC,GACpC,OAAc,IAAVA,EACKgD,EAAWjD,GAAQ,GAAK,GAG1BgD,EAAU/C,GA/BnB,uBAA4B7C,EAAaC,EAAWxC,GAClD,IAAMoJ,EAAY7G,EAAM8G,cAClBC,EAAU9G,EAAI6G,cACdJ,EAAa1G,EAAMgH,WACnBL,EAAW1G,EAAI+G,WACfX,EAAWrG,EAAMiH,UACjBX,EAASrG,EAAIgH,UAEnB,GAAIJ,EAAYE,EAAS,CACvBN,EAAcI,EAAWH,EAAYL,EAAU,GAAI,GAAI5I,GAEvD,IAAK,IAAIoC,EAAIgH,EAAWhH,EAAIkH,EAASlH,IACnC2G,EAAW3G,EAAGpC,GAGhBgJ,EAAcM,EAAS,EAAG,EAAGJ,EAAUL,EAAQ7I,QACtCoJ,IAAcE,GACvBN,EAAcI,EAAWH,EAAYL,EAAUM,EAAUL,EAAQ7I,IAkBrE,qBAA0BuC,EAAaC,GACrC,IAAM4G,EAAY7G,EAAM8G,cAClBC,EAAU9G,EAAI6G,cACdJ,EAAa1G,EAAMgH,WACnBL,EAAW1G,EAAI+G,WACfX,EAAWrG,EAAMiH,UACjBX,EAASrG,EAAIgH,UAEfC,EAAQ,EAEZ,GAAIL,EAAYE,EAAS,CACvBG,GAASN,EAAeC,EAAWH,GAAcL,EAAW,EAE5D,IAAK,IAAIpL,EAAIyL,EAAa,EAAGzL,EAAI,GAAIA,IACnCiM,GAASN,EAAeC,EAAW5L,GAGrC,IAAK,IAAI4E,EAAIgH,EAAY,EAAGhH,EAAIkH,EAASlH,IACvCqH,GA9BGrB,EA8BoBhG,GA9BD,IAAM,IAiC9B,IAAS5E,EAAI,EAAGA,EAAI0L,EAAU1L,IAC5BiM,GAASN,EAAeG,EAAS9L,GAGnCiM,GAASZ,OACJ,GAAIO,IAAcE,EACvB,GAAIL,EAAaC,EAAU,CACzBO,GAASN,EAAeC,EAAWH,GAAcL,EAAW,EAC5D,IAASpL,EAAIyL,EAAa,EAAGzL,EAAI0L,EAAU1L,IACzCiM,GAASN,EAAeC,EAAW5L,GAErCiM,GAASZ,OACAI,IAAeC,IACxBO,GAASZ,EAASD,EAAW,GAMjC,OAAOa,GAIT,8BAAmClH,EAAaC,GAC9C,IAAM4G,EAAY7G,EAAM8G,cAClBC,EAAU9G,EAAI6G,cACdJ,EAAa1G,EAAMgH,WACnBL,EAAW1G,EAAI+G,WAEjBG,GAAQ,EACRC,GAAQ,EACRC,GAAQ,EACRC,GAAQ,EAEZ,GAAIT,EAAYE,EAAU,EAAG,CAC3B,IAAK,IAAIlH,EAAIgH,EAAWhH,GAAKkH,EAASlH,IAChCgG,EAAWhG,GAAIuH,GAAQ,EACtBD,GAAQ,EAGfE,GAAQ,EACRC,GAAQ,OACH,GAAIT,EAAYE,EAAS,CAC9B,IAAK,IAAI9L,EAAIyL,EAAYzL,EAAI,GAAIA,IAAK,CACpC,GAAU,IAANA,EACE4K,EAAWgB,GAAYO,GAAQ,EAC9BD,GAAQ,OAGA,MADPI,EAAO3B,EAAU3K,MACNoM,GAAQ,GACZ,KAATE,IAAaD,GAAQ,GAI7B,IAASrM,EAAI,EAAGA,GAAK0L,EAAU1L,IAAK,CAClC,GAAU,IAANA,EACE4K,EAAWkB,GAAUK,GAAQ,EAC5BD,GAAQ,OAGA,MADPI,EAAO3B,EAAU3K,MACNoM,GAAQ,GACZ,KAATE,IAAaD,GAAQ,SAGxB,GAAIT,GAAaE,EAAS,CAC/B,IAAS9L,EAAIyL,EAAYzL,GAAK0L,EAAU1L,IAAK,CAIzC,IAAMsM,EAHR,GAAU,IAANtM,EACE4K,EAAWgB,KAAYO,GAAQ,QAGtB,MADPG,EAAO3B,EAAU3K,MACNoM,GAAQ,GACZ,KAATE,IAAaD,GAAQ,GAI7BH,GAASC,EAGX,IAAMI,EAAoB,CAAC,EAAG,EAAG,GA4BjC,OA1BKL,IAASC,GAAWC,GAAUC,EAGjCE,EAAQnH,KAAK,IAFbmH,EAAQnH,KAAK,IAKX8G,EACFK,EAAQnH,KAAK,IACJ+G,EACTI,EAAQnH,KAAK,IACJgH,EACTG,EAAQnH,KAAK,IAEbmH,EAAQnH,KAAK,IAGX+G,IAAUD,GACZK,EAAQnH,KAAK,IACbmH,EAAQnH,KAAK,KACbmH,EAAQnH,KAAK,OAEbmH,EAAQnH,KAAK,IACbmH,EAAQnH,KAAK,KACbmH,EAAQnH,KAAK,MAGRmH","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"deltav\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"deltav\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"axis-component\"] = factory(require(\"deltav\"));\n\telse\n\t\troot[\"axis-component\"] = factory(root[\"deltav\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__4__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","export * from \"./axis\";","import { AxisStore, IAxisStoreOptions } from \"./store\";\nimport { Vec2, Vec3 } from \"./types\";\n\nexport interface IAxisProps extends IAxisStoreOptions { }\n\nexport class Axis {\n  store: AxisStore;\n\n  constructor(props: IAxisProps) {\n    this.store = new AxisStore({\n      view: props.view,\n      providers: props.providers,\n      tickWidth: props.tickWidth,\n      tickLength: props.tickLength,\n      labelSize: props.labelSize,\n      labelColor: props.labelColor,\n      labelPadding: props.labelPadding,\n      type: props.type,\n      labels: props.labels,\n      startDate: props.startDate,\n      endDate: props.endDate,\n      numberRange: props.numberRange,\n      numberGap: props.numberGap\n    });\n  }\n\n  /**\n   * Shifts the axis by a given amount\n   */\n  shift(offset: Vec3) {\n    this.store.updateOffset(offset);\n  }\n\n  zoom(focus: Vec2, deltaScale: Vec3) {\n    this.store.updateScale(focus, deltaScale);\n  }\n}","export * from \"./axis-store\";","import { InstanceProvider, EdgeInstance, LabelInstance, Color, AnchorType } from \"deltav\";\nimport { AxisDataType, Vec2, Vec3 } from \"src/types\";\nimport { dateLevel, travelDates, getIntervalLengths } from \"src/util/dateUtil\";\n\nconst monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\nexport interface IAxisStoreOptions {\n  view: {\n    origin: Vec2;\n    size: Vec2;\n  };\n  providers?: {\n    ticks?: InstanceProvider<EdgeInstance>,\n    labels?: InstanceProvider<LabelInstance>\n  };\n  labelColor?: Color;\n  labelSize?: number;\n  labelHighlightColor?: Color;\n  labelPadding?: number;\n  tickWidth?: number;\n  tickLength?: number;\n  type: AxisDataType;\n  labels?: string[];\n  startDate?: Date | string;\n  endDate?: Date | string\n  numberRange?: Vec2;\n  numberGap?: number;\n}\n\nexport class AxisStore {\n  // Layout mode\n  verticalLayout: boolean = true;\n  axisChanged: boolean = false;\n\n  // data type\n  type: AxisDataType;\n\n  // Shape Instances Holders\n  labelInstances: LabelInstance[] = [];\n  tickLineInstances: EdgeInstance[] = [];\n\n  // Axis Metrics\n  view: {\n    origin: Vec2;\n    size: Vec2;\n  }\n\n  tickWidth: number = 1;\n  tickLength: number = 10;\n\n  // Label Metrics\n  labelSize: number = 12;\n  labelColor: Color = [0.8, 0.8, 0.8, 1.0];\n  labelPadding: number = 10;\n  maxLabelWidth: number = 0;\n  maxLabelHeight: number = 0;\n  maxLabelLengh: number = 15;\n\n  labels: string[];\n\n  dates: dateLevel[];\n\n  // Range\n  maxRange: Vec2;\n  viewRange: Vec2;\n\n  offset: number = 0;\n  scale: number = 1;\n\n  // Interval info\n  interval: number = 1;\n  dateIntervalLengths: number[];\n\n\n  providers = {\n    ticks: new InstanceProvider<EdgeInstance>(),\n    labels: new InstanceProvider<LabelInstance>()\n  }\n\n  constructor(options: IAxisStoreOptions) {\n    this.view = options.view;\n    this.tickWidth = options.tickWidth || this.tickWidth;\n    this.tickLength = options.tickLength || this.tickLength;\n    this.labelSize = options.labelSize || this.labelSize;\n    this.labelColor = options.labelColor || this.labelColor;\n    this.labelPadding = options.labelPadding || this.labelPadding;\n    this.type = options.type;\n    this.labels = this.generateLabelTexts(options);\n\n    Object.assign(this.providers, options.providers);\n\n    this.init();\n  }\n\n  init() {\n    this.updateChartMetrics();\n    const origin = this.view.origin;\n    const w = this.view.size[0];\n    const h = this.view.size[1];\n    const tickLength = this.tickLength;\n    const tickWidth = this.tickWidth;\n    const labelPadding = this.labelPadding;\n    const length = this.labels.length;\n\n    if (length != 0) {\n      if (this.verticalLayout) {\n        const intHeight = h / length;\n\n        for (let i = 0; i < length; i++) {\n          const y = origin[1] - (i + 0.5) * intHeight * this.scale + this.offset;\n          // tickLine\n          const tick = new EdgeInstance({\n            start: [origin[0], y],\n            end: [origin[0] - tickLength, y],\n            thickness: [tickWidth, tickWidth],\n            startColor: [1, 1, 1, 0.5],\n            endColor: [1, 1, 1, 0.5]\n          });\n\n          this.tickLineInstances.push(tick);\n          // label\n          const label = new LabelInstance({\n            anchor: {\n              padding: labelPadding,\n              type: AnchorType.MiddleRight\n            },\n            color: [this.labelColor[0], this.labelColor[1], this.labelColor[2], 0],\n            fontSize: this.labelSize,\n            origin: [origin[0], y],\n            text: this.labels[i],\n\n            onReady: label => {\n              if (label.size[0] > this.maxLabelWidth) {\n                this.maxLabelWidth = label.size[0];\n                this.updateChartMetrics();\n                this.layoutLabels();\n              }\n\n              if (label.size[1] > this.maxLabelHeight) {\n                this.maxLabelHeight = label.size[1];\n                this.layoutLabels();\n              }\n            }\n          });\n\n          this.labelInstances.push(label);\n\n          const curY = window.innerHeight - y;\n\n          if (curY >= this.viewRange[0] && curY <= this.viewRange[1]) {\n            this.providers.ticks.add(tick);\n            this.providers.labels.add(label)\n          }\n\n        }\n      } else {\n        const intWidth = w / length;\n\n        for (let i = 0; i < length; i++) {\n          const x = origin[0] + (i + 0.5) * intWidth * this.scale + this.offset;\n          // tickLine\n          const tick = new EdgeInstance({\n            start: [x, origin[1]],\n            end: [x, origin[1] + tickLength],\n            thickness: [tickWidth, tickWidth],\n            startColor: [1, 1, 1, 0.5],\n            endColor: [1, 1, 1, 0.5]\n          });\n\n          this.tickLineInstances.push(tick);\n\n          const labelText = this.labels[i];\n          const text = labelText.length > this.maxLabelLengh ?\n            labelText.substr(0, this.maxLabelLengh) : labelText;\n\n          // label\n          const label = new LabelInstance({\n            anchor: {\n              padding: labelPadding,\n              type: AnchorType.TopMiddle\n            },\n            color: [this.labelColor[0], this.labelColor[1], this.labelColor[2], 0],\n            fontSize: this.labelSize,\n            origin: [x, origin[1] + 10],\n            text,\n            onReady: label => {\n              if (label.size[1] > this.maxLabelHeight) {\n                this.maxLabelHeight = label.size[1];\n              }\n\n              if (label.size[0] > this.maxLabelWidth) {\n                this.maxLabelWidth = label.size[0];\n                this.layoutLabels();\n              }\n            }\n          });\n\n          this.labelInstances.push(label);\n\n          if (x >= this.viewRange[0] && x <= this.viewRange[1]) {\n            this.providers.ticks.add(tick);\n            this.providers.labels.add(label);\n          }\n        }\n      }\n    }\n  }\n\n  generateLabelTexts(options: IAxisStoreOptions) {\n    const type = options.type;\n\n    if (type === AxisDataType.LABEL) {\n      if (!options.labels) {\n        console.error(\"With type LABEL, labels must be set.\");\n        return null;\n      }\n\n      return options.labels;\n    }\n\n    if (type === AxisDataType.DATE) {\n      if (!options.startDate || !options.endDate) {\n        console.error(\"With type DATE, both startDate and endDate must be be set.\");\n        return null;\n      }\n\n      return this.generateDateLabels(options.startDate, options.endDate);\n    }\n\n\n    if (!options.numberRange) {\n      console.error(\"With type NUMBER, numberRange must be be set.\");\n      return null;\n    }\n\n    return this.generateNumberLabels(options.numberRange, options.numberGap);\n\n  }\n\n  generateDateLabels(startDate: string | Date, endDate: string | Date) {\n    const sd = typeof startDate === \"string\" ? new Date(startDate) : startDate;\n    const ed = typeof endDate === \"string\" ? new Date(endDate) : endDate;\n    this.dateIntervalLengths = getIntervalLengths(sd, ed);\n    const dates: dateLevel[] = [];\n    travelDates(sd, ed, dates);\n    this.dates = dates;\n    const labelTexts: string[] = [];\n    const firstDays: dateLevel[] = [];\n\n    dates.forEach((date, i) => {\n      if (i === 0 || i === dates.length - 1) {\n        labelTexts.push(`${date.year} ${monthNames[date.month]} ${date.day}`)\n\n      } else {\n        if (date.month === 0 && date.day === 1) {\n          labelTexts.push(`${date.year} ${monthNames[date.month]}`);\n          firstDays.push(date);\n        } else if (date.day === 1) {\n          labelTexts.push(`${monthNames[date.month]} ${date.day}`);\n        } else {\n          labelTexts.push(`${date.day}`);\n        }\n      }\n    })\n\n    let dl = Math.floor(Math.log2(firstDays.length));\n    let daysInAYear = this.dateIntervalLengths[this.dateIntervalLengths.length - 1];\n\n    while (dl > 0) {\n      const delta = Math.pow(2, dl);\n      for (let i = 0; i < firstDays.length; i += delta) {\n        firstDays[i].level++;\n      }\n      daysInAYear *= 2;\n      this.dateIntervalLengths.push(daysInAYear);\n      dl--;\n    }\n\n    return labelTexts;\n  }\n\n  generateNumberLabels(numberRange: Vec2, numberGap?: number) {\n    let gap = numberGap || 1;\n    const labels: string[] = [];\n\n    for (let i = numberRange[0]; i <= numberRange[1]; i += gap) {\n      labels.push(i.toString());\n    }\n\n    return labels;\n  }\n\n  changeAxis() {\n    this.verticalLayout = !this.verticalLayout;\n    this.axisChanged = true;\n    this.updateChartMetrics();\n    this.layoutLabels();\n    this.axisChanged = false;\n  }\n\n  layoutLabels() {\n    const length = this.labels.length;\n    const origin = this.view.origin;\n    const tickLength = this.tickLength;\n    const labelPadding = this.labelPadding;\n\n    if (this.verticalLayout) {\n      const h = this.view.size[1];\n      const intHeight = h / length;\n\n      let intH = intHeight * this.scale;\n      let level = 0;\n      if (this.type === AxisDataType.LABEL || this.type === AxisDataType.NUMBER) {\n        this.interval = 1;\n\n        while (intH <= this.maxLabelHeight) {\n          intH *= 2;\n          this.interval *= 2;\n        }\n      } else if (this.type === AxisDataType.DATE) {\n        this.interval = this.dateIntervalLengths[level];\n\n        while (this.interval * intH <= this.maxLabelHeight) {\n          level++;\n          this.interval = this.dateIntervalLengths[level];\n        }\n      }\n\n\n      // To be tested\n      for (let i = 0; i < length; i++) {\n        const y = origin[1] - (i + 0.5) * intHeight * this.scale - this.offset;\n        // Label\n        const label = this.labelInstances[i];\n        const preY = window.innerHeight - label.origin[1];\n        const curY = window.innerHeight - y;\n\n        const preIn = preY >= this.viewRange[0] && preY <= this.viewRange[1];\n        const curIn = curY >= this.viewRange[0] && curY <= this.viewRange[1];\n\n        label.origin = [origin[0], y];\n        label.anchor = {\n          padding: labelPadding,\n          type: AnchorType.MiddleRight\n        };\n        // Tick\n        const tick = this.tickLineInstances[i];\n        tick.start = [origin[0] - tickLength, y];\n        tick.end = [origin[0], y];\n\n        if ((this.type === AxisDataType.LABEL && i % this.interval === 0) ||\n          (this.type === AxisDataType.NUMBER && i % this.interval === 0) ||\n          (this.type === AxisDataType.DATE && this.dates[i].level >= level)) {\n          label.color = [\n            label.color[0],\n            label.color[1],\n            label.color[2],\n            1\n          ];\n\n          tick.startColor = [\n            tick.startColor[0],\n            tick.startColor[1],\n            tick.startColor[2],\n            1\n          ];\n\n          tick.endColor = [\n            tick.endColor[0],\n            tick.endColor[1],\n            tick.endColor[2],\n            1\n          ];\n        } else {\n          label.color = [\n            label.color[0],\n            label.color[1],\n            label.color[2],\n            0\n          ];\n\n          tick.startColor = [\n            tick.startColor[0],\n            tick.startColor[1],\n            tick.startColor[2],\n            0.5\n          ];\n\n          tick.endColor = [\n            tick.endColor[0],\n            tick.endColor[1],\n            tick.endColor[2],\n            0.5\n          ];\n        }\n\n        if ((preIn || this.axisChanged) && !curIn) {\n          this.providers.labels.remove(label);\n          this.providers.ticks.remove(tick);\n        } else if ((!preIn || this.axisChanged) && curIn) {\n          this.providers.labels.add(label);\n          this.providers.ticks.add(tick);\n        }\n      }\n    } else {\n      const w = this.view.size[0];\n      const intWidth = w / length;\n\n      let intW = intWidth * this.scale;\n      let level = 0;\n\n      if (this.type === AxisDataType.LABEL || this.type === AxisDataType.NUMBER) {\n        this.interval = 1;\n        while (intW <= this.maxLabelWidth) {\n          intW *= 2;\n          this.interval *= 2;\n        }\n      } else if (this.type === AxisDataType.DATE) {\n        this.interval = this.dateIntervalLengths[level];\n\n        while (this.interval * intW <= this.maxLabelWidth) {\n          level++;\n          this.interval = this.dateIntervalLengths[level];\n        }\n\n      }\n\n      for (let i = 0; i < length; i++) {\n        const x = origin[0] + (i + 0.5) * intWidth * this.scale + this.offset;\n        // Label\n        const label = this.labelInstances[i];\n        const preX = label.origin[0];\n\n        const preIn = preX >= this.viewRange[0] && preX <= this.viewRange[1];\n        const curIn = x >= this.viewRange[0] && x <= this.viewRange[1];\n\n        label.origin = [x, origin[1]];\n        label.anchor = {\n          padding: labelPadding,\n          type: AnchorType.TopMiddle\n        };\n\n        // Tick\n        const tick = this.tickLineInstances[i];\n        tick.start = [x, origin[1]];\n        tick.end = [x, origin[1] + tickLength];\n\n        if ((this.type === AxisDataType.LABEL && i % this.interval === 0) ||\n          (this.type === AxisDataType.NUMBER && i % this.interval === 0) ||\n          (this.type === AxisDataType.DATE && this.dates[i].level >= level)) {\n          label.color = [\n            label.color[0],\n            label.color[1],\n            label.color[2],\n            1\n          ];\n\n          tick.startColor = [\n            tick.startColor[0],\n            tick.startColor[1],\n            tick.startColor[2],\n            1\n          ];\n\n          tick.endColor = [\n            tick.endColor[0],\n            tick.endColor[1],\n            tick.endColor[2],\n            1\n          ];\n        } else {\n          label.color = [\n            label.color[0],\n            label.color[1],\n            label.color[2],\n            0\n          ];\n\n          tick.startColor = [\n            tick.startColor[0],\n            tick.startColor[1],\n            tick.startColor[2],\n            0.5\n          ];\n\n          tick.endColor = [\n            tick.endColor[0],\n            tick.endColor[1],\n            tick.endColor[2],\n            0.5\n          ];\n        }\n\n        if ((preIn || this.axisChanged) && !curIn) {\n          this.providers.labels.remove(label);\n          this.providers.ticks.remove(tick);\n        } else if ((!preIn || this.axisChanged) && curIn) {\n          this.providers.labels.add(label);\n          this.providers.ticks.add(tick);\n        }\n\n      }\n    }\n  }\n\n  updateChartMetrics() {\n    const origin = this.view.origin;\n    const width = this.view.size[0];\n    const height = this.view.size[1];\n\n    if (this.verticalLayout) {\n      this.viewRange = [\n        window.innerHeight - origin[1],\n        window.innerHeight - origin[1] + height\n      ];\n      this.maxRange = [\n        window.innerHeight - origin[1],\n        window.innerHeight - origin[1] + height\n      ];\n    } else {\n      this.viewRange = [origin[0], origin[0] + width];\n      this.maxRange = [origin[0], origin[0] + width];\n    }\n\n    this.scale = 1;\n    this.offset = this.maxRange[0] - this.viewRange[0];\n  }\n\n  // Only update viewRange , then update offset and scale\n  updateScale(mouse: Vec2, scale: Vec3) {\n    const newScale = this.scale + (this.verticalLayout ? scale[1] : scale[0]);\n    this.scale = Math.max(newScale, 1);\n    const width = this.view.size[0];\n    const height = this.view.size[1];\n\n    if (this.verticalLayout) {\n      const downY = this.maxRange[0];\n      const upY = this.maxRange[1];\n      const vd = this.viewRange[0];\n      const vu = this.viewRange[1];\n      const pointY = Math.min(Math.max(vd, window.innerHeight - mouse[1]), vu);\n      const newHeight = height * this.scale;\n      const upHeight = (pointY - downY) * newHeight / (upY - downY);\n      const newDownY = pointY - upHeight;\n      const newUpY = newDownY + newHeight;\n      this.updateMaxRange(newDownY, newUpY, newHeight);\n    } else {\n      const leftX = this.maxRange[0];\n      const rightX = this.maxRange[1];\n      const vl = this.viewRange[0];\n      const vr = this.viewRange[1];\n      const pointX = Math.min(Math.max(vl, mouse[0]), vr);\n      const newWidth = width * this.scale;\n      const leftWidth = (pointX - leftX) * newWidth / (rightX - leftX);\n      let newLeftX = pointX - leftWidth;\n      let newRightX = newLeftX + newWidth;\n      this.updateMaxRange(newLeftX, newRightX, newWidth);\n    }\n  }\n\n  updateOffset(offset: Vec3) {\n    if (this.verticalLayout) {\n      const downY = this.maxRange[0] - offset[1];\n      const upY = this.maxRange[1] - offset[1];\n      const height = this.maxRange[1] - this.maxRange[0];\n      this.updateMaxRange(downY, upY, height);\n    } else {\n      const leftX = this.maxRange[0] + offset[0];\n      const rightX = this.maxRange[1] + offset[0];\n      const width = this.maxRange[1] - this.maxRange[0];\n      this.updateMaxRange(leftX, rightX, width);\n    }\n  }\n\n  updateMaxRange(left: number, right: number, width: number) {\n    if (left >= this.viewRange[0] && right <= this.viewRange[1]) {\n      left = this.viewRange[0];\n      right = this.viewRange[1];\n    } else if (left >= this.viewRange[0]) {\n      left = this.viewRange[0];\n      right = left + width;\n    } else if (right <= this.viewRange[1]) {\n      right = this.viewRange[1];\n      left = right - width;\n    }\n\n    this.maxRange = [left, right];\n    this.offset = this.maxRange[0] - this.viewRange[0];\n\n    this.layoutLabels();\n  }\n}","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","export * from \"./type\";","export enum AxisDataType {\n  DATE,\n  NUMBER,\n  LABEL\n}\n\nexport type Vec2 = [number, number];\nexport type Vec3 = [number, number, number];\nexport type Color = [number, number, number, number];\n","const monthDays = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nconst monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\n\n// month with 28 days\nconst intLengths28 = [1, 3, 7, 14, 28];\n\n// month with 29 days\nconst intLengths29 = [1, 3, 7, 14, 29];\n\n// month with 30 days\nconst intLengths30 = [1, 3, 7, 15, 30];\n\n// month with 31 days\nconst intLengths31 = [1, 3, 7, 15, 31];\n\n// days: 1, 3, 7, 14/15, 28/29/30/31, 90/91, 191/192, 365/366, x2, x4, x8,....\nconst monthsLength = [1, 3, 6, 12];\n\nconst intLengthsRegYear = [28, 90, 191, 365];\nconst intLengthsLeapYear = [29, 91, 192, 366];\n\nfunction isLeapYear(year: number) {\n  const div4: boolean = year % 4 === 0;\n  const div100: boolean = year % 100 === 0;\n  const div400: boolean = year % 400 === 0;\n\n  return (!div100 && div4) || div400;\n}\n\nexport type dateLevel = {\n  year: number;\n  month: number;\n  day: number;\n  level: number;\n}\n\n\nfunction getLevel28(day: number) {\n  if (day === 1) return 4;\n  if (day === 15) return 3;\n  if (day === 8 || day === 22) return 2;\n  if (day === 4 || day === 11 || day === 18 || day === 25) return 1;\n  return 0;\n}\n\nfunction getLevel29(day: number) {\n  if (day === 1) return 4;\n  if (day === 15) return 3;\n  if (day === 8 || day === 22) return 2;\n  if (day === 4 || day === 11 || day === 18 || day === 26) return 1;\n  return 0;\n}\n\nfunction getLevel30(month: number, day: number) {\n  if (day === 1) return getMonthLevel(month);\n  if (day === 16) return 3;\n  if (day === 8 || day === 23) return 2;\n  if (day === 4 || day === 12 || day === 19 || day === 27) return 1;\n  return 0;\n}\n\nfunction getLevel31(month: number, day: number) {\n  if (day === 1) return getMonthLevel(month);\n  if (day === 16) return 3;\n  if (day === 8 || day === 24) return 2;\n  if (day === 4 || day === 12 || day === 20 || day === 28) return 1;\n  return 0;\n}\n\nfunction getMonthLevel(month: number) {\n  if (month === 0) return 7;\n  if (month === 6) return 6;\n  if (month === 3 || month === 9) return 5;\n  return 4;\n}\n\nfunction getLevel(year: number, month: number, day: number) {\n  if (month === 1) {\n    if (isLeapYear(year)) return getLevel29(day);\n    else return getLevel28(day);\n  }\n\n  const days = monthDays[month];\n\n  if (days === 30) return getLevel30(month, day);\n\n  return getLevel31(month, day);\n}\n\nfunction travelInAMonth(\n  year: number,\n  month: number,\n  startDay: number,\n  endDay: number,\n  labels: dateLevel[]\n) {\n  for (let day = startDay; day <= endDay; day++) {\n    let level = getLevel(year, month, day);\n    labels.push({\n      year,\n      month,\n      day,\n      level\n    });\n  }\n}\n\nfunction travelMonth(year: number, month: number,\n  labels: dateLevel[]) {\n  const days = monthDays[month];\n  travelInAMonth(year, month, 1, days, labels);\n}\n\nfunction travelYear(year: number, labels: dateLevel[]) {\n  for (let month = 0; month < 12; month++) {\n    travelMonth(year, month, labels);\n  }\n}\n\nfunction travelInAYear(\n  year: number,\n  startMonth: number,\n  startDay: number,\n  endMonth: number,\n  endDay: number,\n  labels: dateLevel[]\n) {\n  const startDays = monthDays[startMonth];\n  travelInAMonth(year, startMonth, startDay, startDays, labels);\n\n  for (let m = startMonth + 1; m < endMonth; m++) {\n    travelMonth(year, m, labels);\n  }\n\n  travelInAMonth(year, endMonth, 1, endDay, labels);\n}\n\nexport function travelDates(start: Date, end: Date, labels: dateLevel[]) {\n  const startYear = start.getFullYear();\n  const endYear = end.getFullYear();\n  const startMonth = start.getMonth();\n  const endMonth = end.getMonth();\n  const startDay = start.getDate();\n  const endDay = end.getDate();\n\n  if (startYear < endYear) {\n    travelInAYear(startYear, startMonth, startDay, 11, 31, labels);\n\n    for (let y = startYear; y < endYear; y++) {\n      travelYear(y, labels);\n    }\n\n    travelInAYear(endYear, 0, 1, endMonth, endDay, labels);\n  } else if (startYear === endYear) {\n    travelInAYear(startYear, startMonth, startDay, endMonth, endDay, labels);\n  }\n}\n\n// get length\nfunction getYearLength(year: number) {\n  return isLeapYear(year) ? 366 : 365;\n}\n\nfunction getMonthLength(year: number, month: number) {\n  if (month === 1) {\n    return isLeapYear(year) ? 29 : 28;\n  }\n\n  return monthDays[month];\n}\n\n// Get Length including start and end days\nexport function getLength(start: Date, end: Date) {\n  const startYear = start.getFullYear();\n  const endYear = end.getFullYear();\n  const startMonth = start.getMonth();\n  const endMonth = end.getMonth();\n  const startDay = start.getDate();\n  const endDay = end.getDate();\n\n  let count = 0;\n\n  if (startYear < endYear) {\n    count += getMonthLength(startYear, startMonth) - startDay + 1;\n\n    for (let m = startMonth + 1; m < 12; m++) {\n      count += getMonthLength(startYear, m);\n    }\n\n    for (let y = startYear + 1; y < endYear; y++) {\n      count += getYearLength(y);\n    }\n\n    for (let m = 0; m < endMonth; m++) {\n      count += getMonthLength(endYear, m);\n    }\n\n    count += endDay;\n  } else if (startYear === endYear) {\n    if (startMonth < endMonth) {\n      count += getMonthLength(startYear, startMonth) - startDay + 1;\n      for (let m = startMonth + 1; m < endMonth; m++) {\n        count += getMonthLength(startYear, m);\n      }\n      count += endDay;\n    } else if (startMonth === endMonth) {\n      count += endDay - startDay + 1;\n    }\n  }\n\n\n\n  return count;\n}\n\n// get interval lengths\nexport function getIntervalLengths(start: Date, end: Date) {\n  const startYear = start.getFullYear();\n  const endYear = end.getFullYear();\n  const startMonth = start.getMonth();\n  const endMonth = end.getMonth();\n\n  let has28 = false;\n  let has29 = false;\n  let has30 = false;\n  let has31 = false;\n\n  if (startYear < endYear - 1) {\n    for (let y = startYear; y <= endYear; y++) {\n      if (isLeapYear(y)) has29 = true;\n      else has28 = true;\n    }\n\n    has30 = true;\n    has31 = true;\n  } else if (startYear < endYear) {\n    for (let m = startMonth; m < 12; m++) {\n      if (m === 1) {\n        if (isLeapYear(startYear)) has29 = true;\n        else has28 = true;\n      } else {\n        const days = monthDays[m];\n        if (days === 30) has30 = true;\n        if (days === 31) has31 = true;\n      }\n    }\n\n    for (let m = 0; m <= endMonth; m++) {\n      if (m === 1) {\n        if (isLeapYear(endYear)) has29 = true;\n        else has28 = true;\n      } else {\n        const days = monthDays[m];\n        if (days === 30) has30 = true;\n        if (days === 31) has31 = true;\n      }\n    }\n  } else if (startYear == endYear) {\n    for (let m = startMonth; m <= endMonth; m++) {\n      if (m === 1) {\n        if (isLeapYear(startYear)) has29 = true;\n      } else {\n        const days = monthDays[m];\n        if (days === 30) has30 = true;\n        if (days === 31) has31 = true;\n      }\n    }\n\n    has28 = !has29;\n  }\n\n  const lengths: number[] = [1, 3, 7];\n\n  if ((has28 || has29) && !has30 && !has31) {\n    lengths.push(14)\n  } else {\n    lengths.push(15);\n  }\n\n  if (has28) {\n    lengths.push(28);\n  } else if (has29) {\n    lengths.push(29);\n  } else if (has30) {\n    lengths.push(30);\n  } else {\n    lengths.push(31);\n  }\n\n  if (has29 && !has28) {\n    lengths.push(91);\n    lengths.push(192);\n    lengths.push(366);\n  } else {\n    lengths.push(90);\n    lengths.push(191);\n    lengths.push(365);\n  }\n\n  return lengths;\n}"],"sourceRoot":""}